//fake database
var collectionData =[
    //collection1
    {
        'collection_id':'bomb', 
        'header_img':'../image/collectionBomb.png', 
    
        'cafe1-img':'Cafe1.png',
        'cafe1-name':'The Bean Palace',
        'cafe1-rating':'2.5/5',
        'cafe1-hashtags':'#quiet #pet-friendly #vegan',
        'cafe1-link':'cafe_page=The-Bean-Palace',
    
        'cafe2-img':'Cafe2.png',
        'cafe2-name':'Lava Java',
        'cafe2-rating':'3.5/5',
        'cafe2-hashtags':'#twentyfourh #brunch #group #themed',
        'cafe2-link':'cafe_page=Lava-Java',
    
        'cafe3-img':'Cafe7.png',
        'cafe3-name':'The Split Bean',
        'cafe3-rating':'3.5/5',
        'cafe3-hashtags':'#quiet #pet-friendly #vegan #brunch',
        'cafe3-link':'cafe_page=The-Split-Bean',
    
        'cafe4-img':'Cafe3.png',
        'cafe4-name':'The Grind',
        'cafe4-rating':'4/5',
        'cafe4-hashtags':'#quiet #aesthetic #pet-friendly #twentyfourh',
        'cafe4-link':'cafe_page=The-Grind',
    
        'cafe5-img':'Cafe12.png',
        'cafe5-name':'Cute Cups',
        'cafe5-rating':'3/5',
        'cafe5-hashtags':'#quiet #brunch #group #twentyfourh',
        'cafe5-link':'cafe_page=Cute-Cups',
    
        'cafe6-img':'Cafe9.png',
        'cafe6-name':'Black Sugars',
        'cafe6-rating':'4/5',
        'cafe6-hashtags':'#quiet #pet-friendly #brunch #group',
        'cafe6-link':'cafe_page=Black-Sugars',
    
        'cafe7-img':'Cafe5.png',
        'cafe7-name':'No Doze Cafe',
        'cafe7-rating':'3.5/5',
        'cafe7-hashtags':'#pet-friendly #twentyfourh #vagan #themed',
        'cafe7-link':'cafe_page=No-Doze-Cafe',
    
        'cafe8-img':'Cafe6.png',
        'cafe8-name':'Aroma Mocha',
        'cafe8-rating':'4.5/5',
        'cafe8-hashtags':'#quiet #aesthetic #vegan #group',
        'cafe8-link':'cafe_page=Aroma-Mocha'
    },
    //collection2
    {
        'collection_id':'wishlist', 
        'header_img':'../image/collectionWish.png', 
        
        'cafe1-img':'Cafe13.png',
        'cafe1-name':'Amooze',
        'cafe1-rating':'4/5',
        'cafe1-hashtags':'#aesthetic #pet-friendly #brunch #twentyfourh',
        'cafe1-link':'cafe_page=Amooze',
    
        'cafe2-img':'Cafe2.png',
        'cafe2-name':'Lava Java',
        'cafe2-rating':'3.5/5',
        'cafe2-hashtags':'#twentyfourh #brunch #group #themed',
        'cafe2-link':'cafe_page=Lava-Java',
    
        'cafe3-img':'Cafe14.png',
        'cafe3-name':'CHao',
        'cafe3-rating':'3/5',
        'cafe3-hashtags':'#themed #vagan #twentyfourh',
        'cafe3-link':'cafe_page=CHao',
    
        'cafe4-img':'Cafe12.png',
        'cafe4-name':'Cute Cups',
        'cafe4-rating':'3/5',
        'cafe4-hashtags':'#quiet #brunch #group #twentyfourh',
        'cafe4-link':'cafe_page=Cute-Cups',
    
        'cafe5-img':'Cafe5.png',
        'cafe5-name':'No Doze Cafe',
        'cafe5-rating':'3.5/5',
        'cafe5-hashtags':'#pet-friendly #twentyfourh #vagan #themed',
        'cafe5-link':'cafe_page=No-Doze-Cafe',
    
        'cafe6-img':'Cafe3.png',
        'cafe6-name':'The Grind',
        'cafe6-rating':'4/5',
        'cafe6-hashtags':'#quiet #aesthetic #pet-friendly #twentyfourh',
        'cafe6-link':'cafe_page=The-Grind',
    
        'cafe7-img':'Cafe10.png',
        'cafe7-name':'Bees',
        'cafe7-rating':'4.5/5',
        'cafe7-hashtags':'#quiet #brunch #twentyfourh #themed',
        'cafe7-link':'cafe_page=Bees',
    
        'cafe8-img':'Cafe15.png',
        'cafe8-name':'Merp',
        'cafe8-rating':'3.5/5',
        'cafe8-hashtags':'#aesthetic #group #themed #vegan',
        'cafe8-link':'cafe_page=Merp'
    },
    //collection3
    {
        'collection_id':'coolaf', 
        'header_img':'../image/collectionCool.png',
        
    'cafe1-img':'Cafe16.png',
    'cafe1-name':'GRE',
    'cafe1-rating':'4/5',
    'cafe1-hashtags':'#pet-friendly #vagan #group #aesthetic',
    'cafe1-link':'cafe_page=GRE',

    'cafe2-img':'Cafe2.png',
    'cafe2-name':'Lava Java',
    'cafe2-rating':'3.5/5',
    'cafe2-hashtags':'#twentyfourh #brunch #group #themed',
    'cafe2-link':'cafe_page=Lava-Java',

    'cafe3-img':'Cafe5.png',
    'cafe3-name':'No Doze Cafe',
    'cafe3-rating':'3.5/5',
    'cafe3-hashtags':'#pet-friendly #twentyfourh #vagan #themed',
    'cafe3-link':'cafe_page=No-Doze-Cafe',

    'cafe4-img':'Cafe15.png',
    'cafe4-name':'Merp',
    'cafe4-rating':'3.5/5',
    'cafe4-hashtags':'#aesthetic #group #themed #vegan',
    'cafe4-link':'cafe_page=Merp',

    'cafe5-img':'Cafe12.png',
    'cafe5-name':'Cute Cups',
    'cafe5-rating':'3/5',
    'cafe5-hashtags':'#quiet #brunch #group #twentyfourh',
    'cafe5-link':'cafe_page=Cute-Cups',

    'cafe6-img':'Cafe3.png',
    'cafe6-name':'The Grind',
    'cafe6-rating':'4/5',
    'cafe6-hashtags':'#quiet #aesthetic #pet-friendly #twentyfourh',
    'cafe6-link':'cafe_page=The-Grind',

    'cafe7-img':'Cafe6.png',
    'cafe7-name':'Aroma Mocha',
    'cafe7-rating':'4.5/5',
    'cafe7-hashtags':'#quiet #aesthetic #vegan #group',
    'cafe7-link':'cafe_page=Aroma-Mocha',

    'cafe8-img':'Cafe9.png',
    'cafe8-name':'Black Sugars',
    'cafe8-rating':'4/5',
    'cafe8-hashtags':'#quiet #pet-friendly #brunch #group',
    'cafe8-link':'cafe_page=Black-Sugars'  
    },
    //collection4
    {
        'collection_id':'momsfavs',
        'header_img':'../image/collectionMom.png', 
        
        'cafe1-img':'Cafe12.png',
        'cafe1-name':'Cute Cups',
        'cafe1-rating':'3/5',
        'cafe1-hashtags':'#quiet #brunch #group #twentyfourh', 
        'cafe1-link':'cafe_page=Cute-Cups',
    
        'cafe2-img':'Cafe2.png',
        'cafe2-name':'Lava Java',
        'cafe2-rating':'3.5/5',
        'cafe2-hashtags':'#twentyfourh #brunch #group #themed',
        'cafe2-link':'cafe_page=Lava-Java',
    
        'cafe3-img':'Cafe1.png',
        'cafe3-name':'The Bean Palace',
        'cafe3-rating':'2.5/5',
        'cafe3-hashtags':'#quiet #pet-friendly #vegan',
        'cafe3-link':'cafe_page=The-Bean-Palace',
    
        'cafe4-img':'Cafe5.png',
        'cafe4-name':'No Doze Cafe',
        'cafe4-rating':'3.5/5',
        'cafe4-hashtags':'#pet-friendly #twentyfourh #vagan #themed',
        'cafe4-link':'cafe_page=No-Doze-Cafe',
    
        'cafe5-img':'Cafe16.png',
        'cafe5-name':'GRE',
        'cafe5-rating':'4/5',
        'cafe5-hashtags':'#pet-friendly #vagan #group #aesthetic',
        'cafe5-link':'cafe_page=GRE',
    
        'cafe6-img':'Cafe3.png',
        'cafe6-name':'The Grind',
        'cafe6-rating':'4/5',
        'cafe6-hashtags':'#quiet #aesthetic #pet-friendly #twentyfourh',
        'cafe6-link':'cafe_page=The-Grind',
    
        'cafe7-img':'Cafe6.png',
        'cafe7-name':'Aroma Mocha',
        'cafe7-rating':'4.5/5',
        'cafe7-hashtags':'#quiet #aesthetic #vegan #group',
        'cafe7-link':'cafe_page=Aroma-Mocha',
    
        'cafe8-img':'Cafe9.png',
        'cafe8-name':'Black Sugars',
        'cafe8-rating':'4/5',
        'cafe8-hashtags':'#quiet #pet-friendly #brunch #group',
        'cafe8-link':'cafe_page=Black-Sugars' 
    }
   ]
    
//script to load correct cafes
//query format : ./collection.html?collecton_page=collection_name
$(document).ready(function(){
    //compile template
    var source = $('#collection-template').html();
    var template = Handlebars.compile(source);

    var parentDiv = $("#templatedCollections");

    //allow for fake-database queries
    var queryParams = new URLSearchParams(window.location.search);
    var collection = queryParams.get('collection_page');
    console.log('query for', collection);

    for(var i=0; i<collectionData.length; i++){
        console.log('in for loop');
        var curData = collectionData[i];
        if(curData.collection_id == collection){
            var curHtml = template(curData);
            parentDiv.append(curHtml);
        }
    }

    console.log(localStorage.getItem('addHTML#'+collection));
    console.log('addHTML#'+collection);
    //check local storage to see if any new cafes were added by user
    if(localStorage.getItem('addHTML#'+collection)!=null){
        $('#'+collection+' #addedCafe').append(
            localStorage.getItem('addHTML#'+collection)
        );
    }
})

/**
 * Description: changes the selected collection's name to the given newName
 * 
 * Input:
 *      collection - id of the collection
 *      newName - newName that the user wants the collection to be changed into
 * LocalStorage change:
 *      collection<number>name is updated to newName
 */
function changeCollectionName(collection, newName){
    localStorage.setItem(collection+'name',newName);
}
    