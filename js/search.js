var hashtag_Data = [
    {
        'category_id':'quiet',
        'cafes': [1,4,7,3,12,9,10,6]
    },
    {
        'category_id':'twentyfourh',
        'cafes': [13,2,14,12,5,3,10,4]
    },
    {
        'category_id':'group',
        'cafes': [6,2,8,15,12,16,11,9]
    },
    {
        'category_id':'aesthetic',
        'cafes': [16,10,8,15,13,3,6,11]
    },
    {
        'category_id':'brunch',
        'cafes': [10,2,7,4,12,9,8,13]
    },
    {
        'category_id':'themed',
        'cafes': [2,1,5,8,15,11,14,10]
    },
    {
        'category_id':'pet-friendly',
        'cafes': [1,7,4,3,5,16,13,9]
    },
    {
        'category_id':'vegan',
        'cafes': [15,14,1,5,16,7,6,11]
    }
]

var cafe_card_Data=[
    //Cafe 1  - The Bean Palace
    { 
        'cafe-card-id':'The-Bean-Palace-',
        'cafe-link':'cafe_page=The-Bean-Palace',
        'cafe-img':'Cafe1.png',
        'cafe-name':'The Bean Palace',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 2 - Lava Java
    {
        'cafe-card-id':'Lava-Java-',
        'cafe link':'cafe_page=Lava-Java',
        'cafe-img':'Cafe2.png',
        'cafe-name':'Lava Java',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-24hr.png" class="tag-24">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 3 - The Grind
    {
        'cafe-card-id':'The-Grind-',
        'cafe-link':'cafe_page=The-Grind',
        'cafe-img':'Cafe3.png',
        'cafe-name':'The Grind',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'
    },
    //Cafe 4 - No Social Life
    {
        'cafe-card-id':'No-Social-Life-',
        'cafe-link':'cafe_page=No-Social-Life',
        'cafe-img':'Cafe4.png',
        'cafe-name':'No Social Life',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'
    },
    //Cafe 5 - No Doze Cafe
    {
        'cafe-card-id':'No-Doze-Cafe-',
        'cafe-link':'cafe_page=No-Doze-Cafe',
        'cafe-img':'Cafe5.png',
        'cafe-name':'No Doze Cafe',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 6 - Aroma Mocha
    {
        'cafe-card-id':'Aroma-Mocha-',
        'cafe-link':'cafe_page=Aroma-Mocha',
        'cafe-img':'Cafe6.png',
        'cafe-name':'Aroma Mocha',
        'cafe-rating':'5.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-group.png" class="tag-g">'
    },
    //Cafe 7 - The Split Bean
    {
        'cafe-card-id':'The-Split-Bean-',
        'cafe-link':'cafe_page=The-Split-Bean',
        'cafe-img':'Cafe7.png',
        'cafe-name':'The Split Bean',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'
    },
    //Cafe 8 - Happy Orange
    {
        'cafe-card-id':'Happy-Orange-',
        'cafe-link':'cafe_page=Happy-Orange',
        'cafe-img':'Cafe8.png',
        'cafe-name':'Happy Orange',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 9 - Black Sugars
    {
        'cafe-card-id':'Black-Sugars-',
        'cafe-link':'cafe_page=Black-Sugars',
        'cafe-img':'Cafe9.png',
        'cafe-name':'Black Sugars',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-group.png" class="tag-g">'
    },
    //Cafe 10 - Bees
    {
        'cafe-card-id':'Bees-',
        'cafe-link':'cafe_page=Bees',
        'cafe-img':'Cafe10.png',
        'cafe-name':'Bees',
        'cafe-rating':'5.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 11 - QnA
    {
        'cafe-card-id':'QnA-',
        'cafe-link':'cafe_page=QnA',
        'cafe-img':'Cafe11.png',
        'cafe-name':'QnA',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-themed.png" class="tag-t">'
    },
    //Cafe 12 - Cute Cups
    {
        'cafe-card-id':'Cute-Cups-',
        'cafe-link':'cafe_page=Cute-Cupts',
        'cafe-img':'Cafe12.png',
        'cafe-name':'Cute Cups',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-quiet.png" class="tag-q">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'
    },
    //Cafe 13 - Amooze
    {
        'cafe-card-id':'Amooze-',
        'cafe-link':'cafe_page=Amooze',
        'cafe-img':'Cafe13.png',
        'cafe-name':'Amooze',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-brunch.png" class="tag-b">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'
    },
    //Cafe 14 - CHao
    {
        'cafe-card-id':'CHao-',
        'cafe-link':'cafe_page=CHao',
        'cafe-img':'Cafe14.png',
        'cafe-name':'CHao',
        'cafe-rating':'3.png',
        'cafe-hashtags':
            '<img src="../image/tag-themed.png" class="tag-t">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-24hr.png" class="tag-24">'
    },
    //Cafe 15 - Merp
    {
        'cafe-card-id':'Merp-',
        'cafe-link':'cafe_page=Merp',
        'cafe-img':'Cafe15.png',
        'cafe-name':'Merp',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-aesthetic.png" class="tag-a">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-themed.png" class="tag-t">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'
    },
    //Cafe 16 - GRE
    {   
        'cafe-card-id':'GRE-',
        'cafe-link':'cafe_page=GRE',
        'cafe-img':'Cafe16.png',
        'cafe-name':'GRE',
        'cafe-rating':'4.png',
        'cafe-hashtags':
            '<img src="../image/tag-pet.png" class="tag-p">'+
            '<img src="../image/tag-vegan.png" class="tag-v">'+
            '<img src="../image/tag-group.png" class="tag-g">'+
            '<img src="../image/tag-aesthetic.png" class="tag-a">'
    }
];
/**
 * Description: Given keyword, will conduct search:
 *      * If keyword matches a category, will load all cafes under that category
 *      * If keyword matches a cafe name, will load that cafe
 *      * If keyword matches nothing, will load 'No matches found' & then a 'More Cafes to Consider' underneath
 * Will return the cafes that match the given keyword. If nothing matches, will return a random list
 * of 8 cafes.
 * 
 * Input:
 *      keyword
 * 
 * Output:
 *      list: [0,.......] or [1,......]
 *      if list[0]==0, then that means no matches were found
 *      if list[0]==1, then that means the cafes from list[1] and on are the search results
 */
function search(keyword){
    var list;
    if(keyword.length==0){
        list = random_cafe();
        return list;
    }
    //check match with hashtags
    list = hashtags_search(keyword);
    //if not match with hashtags, check match with cafes
    if(list==null){
        list = cafe_search(keyword);
        //if not match with cafes, return 8 random cafes
        if(list==null){
            list = random_cafe();
        }
    }
    return list;
}

/**
 * Description: returns list of matching cafes that have same hashtag
 * @param {string} keyword 
 * 
 * Output:
 *      list - [1,,,,]
 *      null if nothing found
 */
function hashtags_search(keyword){
    var list = null;
    for(var i=0; i<hashtag_Data.length; i++){
        if(keyword==hashtag_Data[i]["category_id"]){
            var arr = [1];
            list = arr.concat(hashtag_Data[i]['cafes']);
        }
    }
    return list;
}

/**
 * Description: returns list of matching cafes that have same cafe name
 * @param {string} keyword 
 * 
 * Output:
 *      list - [2,#]
 *      null if nothing found
 */
function cafe_search(keyword){
    var list = null;
    for(var i=0; i<cafe_card_Data.length; i++){
        if(keyword==cafe_card_Data[i]["cafe-name"]){
            arr = [2];
            list = arr.concat([i]);
        }
    }
    return list;
}

/**
 * Description: returns a list of 8 recommended cafes (hardcoded)
 * 
 * Output:
 *      list - [0,,,,,,]
 */
function random_cafe(){
    return [0,1,5,11,4,6,16,3,10];
}